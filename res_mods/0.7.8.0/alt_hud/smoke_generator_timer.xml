<?xml version="1.0" encoding="utf-8" ?>
<!--
Настройки таймера генератора дыма

<sg_timer [позиция на экране]>
  [Цветовые темы и доп. эффекты]
  [Схемы раскраски таймера]
  [Схемы расположения визуальных элементов таймера]
  [Список таймеров]
</sg_timer>

[Позиция на экране]
 x="{число}" - Горизонтальное смещение _центра_ относительно центра экрана
 y="{число}" - Вертикальное смещение _центра_ относительно центра экрана
-->

<sg_timer x="-260" y="-150">

<!--
[Цветовые темы и доп. эффекты]
 Цветорые темы и доп. эффекты используются для раскарски шкал таймера и текста.

 <themes [тема по умолчанию]>
   [Тема]
 </themes>

 [тема по умолчанию]
  default="{строка}" - имя темы по умолчанию. Эта тема будет использоваться в случае, если тема с запрошенным именем найдена не будет.

 [Тема]
  <theme [имя темы] [цвет] [прозрачность]>
    [Доп. эффекты]
  </theme>

   [Имя темы]
    name="{строка}" - имя темы

   [Цвет]
    color="{целое число}" - Цвет в формате RRGGBB

   [Прозрачность]
    alpha="{число от 0 до 1}" - определяет прозрачность. 0 - полностью прозрачно, 1 - полностью непрозрачно.

   [Доп. эффекты]
    Список применяемых доп. эффектов. Доступны следующие эффекты:

     <glow [Параметры свечения]/> - Свечение ("абрис") текста
       [Параметры свечения]:
         color="{целое число}"     - Цвет в вормате RRGGBB
         alpha="{число от 0 до 1}" - Прозрачность. 1 - полностью непрозрачно. 0 - полночтью прозрачно.
         x="{число}"               - Степень размытия по горизонтали
         y="{число}"               - Степень размытия по вертикали
         strength="{число}"        - Интенсивность

      <shadow [Параметры тени]/> - Тень текста
        [Параметры тени]:
          color="{целое число}"     - Цвет в формате RRGGBB
          alpha="{число от 0 до 1}" - Прозрачность. 1 - полностью непрозрачно. 0 - полночтью прозрачно.
          x="{число}"               - Степень размытия по горизонтали
          y="{число}"               - Степень размытия по вертикали
          strength="{число}"        - Интенсивность
          angle="{число}"           - Угол, отрабрасывания тени
          distance="{число}"        - Расстояние смещения для тени (в пикселях)

     Список эффектов может содержать более одного эффекта каждого типа (т.е. может быть описано, например, два разных glow).
     Эффекты применяются в том же порядке, в котором они описаны.
-->
  <themes default="white">
    <theme name="white" color="0xffffff" alpha="1">
      <glow color="0x000000" alpha="0.7" x="2" y="2" strength="1"/>
    </theme>
    <theme name="green" color="0x00ff00" alpha="0.3">
      <glow color="0x000000" alpha="0.7" x="3" y="3" strength="2"/>
    </theme>
    <theme name="yellow" color="0xffff00" alpha="0.3">
      <glow color="0x000000" alpha="0.7" x="3" y="3" strength="2"/>
    </theme>
    <theme name="red" color="0xff0000" alpha="0.3">
      <glow color="0x000000" alpha="0.7" x="3" y="3" strength="2"/>
    </theme>
  </themes>

<!--
[Схемы раскраски таймера]
 Схемы раскраски служат для изменения внешнего вида шкал таймера и текста в зависимости от оставшегося времени.
 
 <colorer [схема раскраски по умолчанию]>
   [Схема раскраски]
 </colorer>

 [Схема раскраски по умолчанию]
  default="{строка}" - имя схемы раскраски по умолчанию. Эта схема будет использоваться в случае, если схема с запрошенным именем найдена не будет.

 [Схема раскраски]
  <schema [имя схемы] [тип схемы] [начальная цветовая тема шкалы] [начальная цветовая тема текста]>
    [Настройки таймера]
  </schema>

  [Имя схемы]
   name="{строка}" - имя схемы раскраски
  
  [Тип схемы]
   type="{rel/abs}" - тип схемы раскраски. Определяет каким образом буду обрабатываться [настройки таймера]. 
                      Если type="rel", то [настройки таймера] задаются в процентах от оставшегося времени работы.
                      Если type="abs", то [настройки таймера] задаются в секундах оставшегося времени работы.

  [Начальная цветовая тема шкалы]
   bar="{строка}" - имя цветовой темы, которая будет использоваться для раскраски шкалы таймера на старте его работы.

  [Начальная цветовая тема текста]
   text="{строка}"  - имя цветовой темы, которая будет использоваться для раскраски текста таймера на старте его работы.

  [Настройки таймера]
   Настройки таймера задают время, начиная с которого для оформления будет использоваться другая цветовая тема.

   <time [время] [цветовая тема шкалы] [цветовая тема текста]/>
    
    [Время]
     value="{целое число}" - определяет момент времени, начиная с которого будут применяться заданные цветовые темы. 
                             В зависимости от [типа схемы] задается либо в процента, либо в секундах.

    [Цветовая тема шкалы]
     bar="{строка}" - имя цветовой темы, которая будет использоваться для раскраски шкалы таймера начиная с заданного времени.

    [Цветовая тема текста]    
     text="{строка}"  - имя цветовой темы, которая будет использоваться для раскраски текста таймера начиная с заданного времени.     
-->  
  <colorer default="default">
    <schema name="default" type="rel" bar="green" text="white">
      <time value="50" bar="yellow" text="white"/>
      <time value="25" bar="red" text="white"/>
    </schema>
  </colorer>

<!--
[Схемы расположения визуальных элементов таймера]

 Схемы расположения визуальных элементов таймера используются для изменения его внешнего вида.

 <layout [схема расположения по умолчанию]>
   [Схема расположения]
 </layout>

 [Схема расположения по умолчанию]
  default="{строка}" - имя схемы расположения по умолчанию. Эта схема будет использоваться в случае, если схема с запрошенным именем найдена не будет.

 [Схема расположения]
  <schema [имя схемы]>
   [Схема]
  </schema>

  [Имя схемы]
   name="{строка}" - имя схемы.
  
  [Схема]
   <[тип таймера] [смещение таймера] [видимость таймера]>
     [Настройки фона]
     [Настройки шкалы]
     [Настройки текста]
     [Настройки заголовка]
   </[тип таймера]>

   [Тип таймера]
    first/last - Существует два типа таймеров. 
                 Первый (first) - начинает работать с началом работы генератора дыма.
                 Крайний (last) - начинает работать по окончании работы генератора дыма.
                 В схеме _обязательно_ должны быть описаны оба таймера. 
                 Минимально допустимое описание: <[тип таймера] visible="false" />

   [Смещение таймера]
    x="{число}" - Горизонтальное смещение относительно центра
    y="{число}" - Вертикальное смещение относительно центра
    
   [Видимость таймера]
    visible="{true/false}" - Видим (true) или нет (false) таймер.

   [Настройки фона]
    Настройки фона позволяют загрузить статичное изображение в кучестве фонового изображения.

    <background [видимость фона] [смещение фона] [url]/>
  
     [Видимость фона]
      visible="{true/false}" - Видим (true) или нет (false) фон.

     [Смещение фона]
      x="{число}" - Горизонтальное смещение центра изображения относительно центра
      y="{число}" - Вертикальное смещение центра изображения относительно центра

     [url]
      url="{строка}" - относительный путь до файла с загружаемым изображением.
                       Путь задается относительно папки alt_hud (той, где хранятся настройки мода).
    
   [Настройки шкалы]
    Настройки шкалы позволяют задать размер шкалы таймера
    
    <progressBar [диаметр] />

     [Диаметр]
      outer="{число}" - внешний диаметр
      inner="{число}" - внутренний диаметр
    
   [Настройки текста]
    Настройки текста позволяют задать внешний вид и положении текста таймера

    <text [шрифт] [смещение]/>
    
    [Шрифт]
     font="{строка}" - шрифт для отображения текста. Доступны только встроенные в клиент/моды шрифты.
                       Например: $WWSDefaultFont/$WWSDefaultFontBold.

     size="{целое число}" - размер шрифта

    [Смещение]
     x="{число}" - Горизонтальное смещение центра текста относительно центра
     y="{число}" - Вертикальное смещение центра текста относительно центра

   [Настройки заголовка]
    Настройки заголовка позволяет задать внешний вид и положени заголовка таймера
    
    <label [шрифт] [смещение] [заголовок]>
      [Цветовая схема и доп. эффекты заголовка]
    </label>

    [Шрифт]    - как в [Настройки текста]
    [Смещение] - как в [Настройки текста]
    [Заголовок]
     caption="{строка}" - текст заголовка

    [Цветовая схема и доп. эффекты заголовка]
      Как [Тема] в [Цветовые темы и доп. эффекты]  
-->  
  <layout default="default">
    <schema name="default">
      <first x="-30" y="0" visible="true">
        <background visible="false" url="img/back1.png" x="0" y="0" />
        <progressBar outer="50" inner="31"/>
        <text font="$WWSDefaultFont" size="18" x="0" y="0"/>
        <label font="$WWSDefaultFont" size="12" x="0" y="-35" caption="First">
          <theme color="0xffffff" alpha="1">
            <glow color="0x000000" alpha="0.5" x="2" y="2" strength="2"/>
          </theme>
        </label>
      </first>
      
      <last x="30" y="0" visible="true">
        <background visible="true" url="img/back1.png" x="0" y="0" />
        <progressBar outer="50" inner="31"/>
        <text font="$WWSDefaultFont" size="18" x="0" y="0"/>
        <label font="$WWSDefaultFont" size="12" x="0" y="35" caption="Last">
          <theme color="0xffffff" alpha="1">
            <glow color="0x000000" alpha="0.5" x="2" y="2" strength="2"/>
          </theme>
        </label>
      </last>
    </schema>    
  </layout>

<!--
[Список таймеров]
 Список таймеров позволяет задать схемы расположения и раскраски в зависимости от корабля или его типа.
 
 <timers [схема раскраки по умолчанию] [схема расположения по умолчанию]>
   [Таймер]
 </timers>

 [Схема раскраки по умолчанию]
  defaultSchema="{строка} - имя схема раскраски по умолчанию. См. [Схемы раскраски таймера]

 [Схема расположения по умолчанию]
  defaultLayout="{строка} - имя схемы расположения по умолчанию. См. [Схемы расположения визуальных элементов таймера]

 [Таймер]
  <timer [тип] [корабль] [схема расположения] [схема раскраски]/>
  
  [Тип]
   type="{строка}" - Тип корабля, для которого будет применятся таймер, если на нем установлен генератор дыма.
                      На данный момент, смысл имеют только Destroyer и Cruiser

  [Корабль]
   ship="{строка}" - Название корабля, для которого будет применятся таймер, если на нем установлен генератор дыма.

  [Схема расположения]
   layout="{строка}" - Имя схемы расположения, которая будет применена к таймеру.

  [Схема раскраски]
   schema="{строка}" - Имя схемы раскраски, которая будет применена к таймеру (обоих типов).
   first="{строка}"  - Имя схемы раскраски, которая будет применена к таймеру типа first. Перекрывает значение, заданное атрибутом schema.
   last="{строка}"   - Имя схемы раскраски, которая будет применена к таймеру типа last. Перекрывает значение, заданное атрибутом schema. 
-->  
  <timers defaultSchema="default" defaultLayout="default">
    <timer type="Destroyer" layout="default" schema="default" last="test" />
  </timers>
</sg_timer>